{% extends 'public/base.html' %}
{% load static %}
{% block content %}
<div class="section">
  <div class="container">
    <div class="wrapper-m"></div>
  </div>
</div>
<div class="w-form wrapper-m">
  <form id="password-reset-confirm-form" method="post" class="form">
    {% csrf_token %}
    <input class="input medium w-input" 
           type="password" 
           name="new_password1" 
           placeholder="Enter new password" 
           required>
    <input class="input medium w-input" 
           type="password" 
           name="new_password2" 
           placeholder="Confirm new password" 
           required>
    <button type="submit" 
            class="button medium form-button w-button"
            onclick="submitResetConfirmForm(event)">
      Change Password
    </button>
  </form>
  {% if form.errors %}
  <div class="w-form-fail" style="display: block;">
    {% for field in form %}
      {% for error in field.errors %}
        <div>{{ error }}</div>
      {% endfor %}
    {% endfor %}
  </div>
  {% endif %}
</div>
<div class="section">
  <div class="container">
    <div class="wrapper-m"></div>
  </div>
</div>

<script>
function submitResetConfirmForm(event) {
    // Prevent default handling
    event.preventDefault();
    
    // Get the form
    const form = document.getElementById('password-reset-confirm-form');
    
    // Submit the form
    form.submit();
    
    return false;
}

// Remove Webflow's event listeners
document.addEventListener('DOMContentLoaded', function() {
    if (window.Webflow) {
        window.Webflow.destroy();
    }
});
</script>
{% endblock %}