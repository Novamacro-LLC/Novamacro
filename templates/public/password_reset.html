{% extends 'public/base.html' %}
{% load static %}
{% block content %}
<div class="section">
  <div class="container">
    <div class="wrapper-m"></div>
  </div>
</div>
<div class="w-form wrapper-m">
  <form id="reset-form" method="post" class="form" action="{% url 'internal:password_reset' %}">
    {% csrf_token %}
    <input class="input medium w-input" 
           type="email" 
           name="email" 
           placeholder="Enter your email address" 
           required>
    <button type="submit" 
            class="button medium form-button w-button"
            onclick="submitResetForm(event)">
      Reset Password
    </button>
  </form>
  {% if form.errors %}
  <div class="w-form-fail" style="display: block;">
    <div>Please enter a valid email address.</div>
  </div>
  {% endif %}
</div>
<div class="section">
  <div class="container">
    <div class="wrapper-m"></div>
  </div>
</div>

<script>
function submitResetForm(event) {
    // Prevent default handling
    event.preventDefault();
    
    // Get the form
    const form = document.getElementById('reset-form');
    
    // Submit the form
    form.submit();
    
    return false;
}

// Remove Webflow's event listeners
document.addEventListener('DOMContentLoaded', function() {
    if (window.Webflow) {
        window.Webflow.destroy();
    }
});
</script>
{% endblock %}