# marketing/templates/marketing/content/social_post_list.html
{% extends 'marketing/base.html' %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="mb-6 flex justify-between items-center">
        <h1 class="text-2xl font-bold text-gray-900">Social Media Posts</h1>
        <a href="#" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
            Create New Post
        </a>
    </div>

    <div class="bg-white shadow overflow-hidden sm:rounded-lg">
        {% if posts %}
        <div class="divide-y divide-gray-200">
            {% for post in posts %}
            <div class="p-6">
                <div class="space-y-4">
                    <div class="flex justify-between items-start">
                        <div>
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
                                {{ post.get_platform_display }}
                            </span>
                            <span class="ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium 
                                {% if post.status == 'published' %}bg-green-100 text-green-800
                                {% elif post.status == 'scheduled' %}bg-blue-100 text-blue-800
                                {% elif post.status == 'draft' %}bg-gray-100 text-gray-800
                                {% else %}bg-red-100 text-red-800{% endif %}">
                                {{ post.get_status_display }}
                            </span>
                        </div>
                        <div class="text-sm text-gray-500">
                            {% if post.scheduled_time %}
                            Scheduled: {{ post.scheduled_time|date:"F j, Y, g:i a" }}
                            {% endif %}
                        </div>
                    </div>
                    <div class="text-gray-700">
                        {{ post.content }}
                    </div>
                    {% if post.engagement_metrics %}
                    <div class="pt-4 border-t border-gray-200">
                        <h4 class="text-sm font-medium text-gray-500">Engagement Metrics</h4>
                        <div class="mt-2 grid grid-cols-3 gap-4">
                            <div>
                                <span class="text-sm text-gray-500">Likes:</span>
                                <span class="ml-2 text-gray-900">{{ post.engagement_metrics.likes|default:"0" }}</span>
                            </div>
                            <div>
                                <span class="text-sm text-gray-500">Shares:</span>
                                <span class="ml-2 text-gray-900">{{ post.engagement_metrics.shares|default:"0" }}</span>
                            </div>
                            <div>
                                <span class="text-sm text-gray-500">Comments:</span>
                                <span class="ml-2 text-gray-900">{{ post.engagement_metrics.comments|default:"0" }}</span>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    <div class="pt-4 flex space-x-3">
                        {% if post.status == 'draft' %}
                        <button class="bg-green-500 hover:bg-green-700 text-white font-bold py-1 px-3 rounded text-sm">
                            Schedule
                        </button>
                        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm">
                            Publish Now
                        </button>
                        {% endif %}
                        <button class="text-blue-600 hover:text-blue-900 text-sm">Edit</button>
                        <button class="text-red-600 hover:text-red-900 text-sm">Delete</button>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="text-center py-8">
            <p class="text-gray-500">No social media posts created yet.</p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}